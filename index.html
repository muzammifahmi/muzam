<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Achmad Muzammi Fahmi</title>
    <link rel="stylesheet" href="/assets/css/style.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top navbar-light">
        <div class="container">
            <a class="navbar-brand" href="#">Achmad Muzammi Fahmi</a>
        </div>
    </nav>

    <div class="container py-4 mb-5">
        <div class="p-5 mb-4 bg-light rounded-3">
            <div class="container-fluid py-5">
                <div class="row profile-section">
                    <!-- Foto -->
                    <div class="col-md-4 text-center text-md-start">
                        <img src="/assets/photo/IMG-20230426-WA0001.jpg" class="profile-image img-fluid" alt="Profile Picture">
                    </div>
                    
                    <!-- Teks -->
                    <div class="col-md-8 text-center text-md-start">
                        <h1 class="display-5 fw-bold">Achmad Muzammi Fahmi</h1>
                        <p class="fs-4">I am an undergraduate student majoring in Informatics and Computer Engineering Education. Passionate about technology, programming, and education, I strive to integrate innovative solutions into learning and teaching processes.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- My Passion & About Me -->
        <div class="row">
            <div class="col-md-6 mb-3">
                <div class="h-100 p-5 text-white bg-dark rounded-3">
                    <h2>My Passion</h2>
                    <p>I am enthusiastic about developing educational technology, web development, and enhancing digital learning experiences.</p>
                    <a href="https://github.com/muzammifahmi"><button class="btn btn-outline-light" type="button">Explore My Work</button></a>
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <div class="h-100 p-5 bg-light border rounded-3">
                    <h2>About Me</h2>
                    <p>As a student, I continuously seek new challenges and learning opportunities in the field of informatics and computer education. My goal is to bridge technology and education effectively.</p>
                    <a href="https://wa.me/6285895703935"><button class="btn btn-outline-secondary" type="button">Contact Me</button></a>
                </div>
            </div>
        </div>
    </div>

    <div class="parallax"></div>

    <!-- Chatbot -->
    <div class="chat-container" id="chatContainer">
        <div class="chat-header" onclick="toggleChat()">ðŸ’¬ Chat with AI</div>
        <div class="chat-body" id="chatBody"></div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Type a message...">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
    <button class="btn btn-primary" style="position: fixed; bottom: 20px; right: 20px;" id="chatButton" onclick="toggleChat()">Chat AI</button>

    <!-- Footer -->
    <footer class="text-center text-white">
        <div class="container pt-4">
            <section class="mb-4">
                <a class="btn btn-link btn-floating btn-lg text-dark m-1" href="https://web.facebook.com/fahmi.muzammi" role="button">
                    <i class="bi bi-facebook fs-3"></i>
                </a>
                <a class="btn btn-link btn-floating btn-lg text-dark m-1" href="https://www.instagram.com/muzam_zami/" role="button">
                    <i class="bi bi-instagram fs-3"></i>
                </a>
                <a class="btn btn-link btn-floating btn-lg text-dark m-1" href="https://www.linkedin.com/in/achmad-muzammi-fahmi/" role="button">
                    <i class="bi bi-linkedin fs-3"></i>
                </a>
                <a class="btn btn-link btn-floating btn-lg text-dark m-1" href="https://github.com/muzammifahmi" role="button">
                    <i class="bi bi-github fs-3"></i>
                </a>
            </section>
        </div>
        <div class="text-center text-dark p-3" style="background-color: rgba(0, 0, 0, 0.2);">
            Â© 2025 Achmad Muzammi Fahmi
        </div>
    </footer>

<script>
  AOS.init();

  // Fungsi untuk toggle chat window
  function toggleChat() {
      var chat = document.getElementById("chatContainer");
      var chatButton = document.getElementById("chatButton");
      if (chat.style.display === "none" || chat.style.display === "") {
          chat.style.display = "block";
          chatButton.style.display = "none";
      } else {
          chat.style.display = "none";
          chatButton.style.display = "block";
      }
  }

  // Fungsi untuk mengirim pesan
  async function sendMessage() {
      var inputField = document.getElementById("chatInput");
      var message = inputField.value.trim(); // Menghapus spasi di awal/akhir
      if (!message) {
          // Menambahkan pesan error jika input kosong
          var chatBody = document.getElementById("chatBody");
          chatBody.innerHTML += `<div><b>AI:</b> Silakan masukkan pesan.</div>`;
          return;
      }

      var chatBody = document.getElementById("chatBody");
      chatBody.innerHTML += `<div><b>You:</b> ${message}</div>`;
      inputField.value = ""; // Reset input field

      try {
          // Tambahkan instruksi agar jawaban dalam bahasa Indonesia
          const prompt = `Tolong jawab dalam bahasa Indonesia: ${message}`;

          // Mengirimkan request ke API /api/chat
          const response = await fetch('/api/chat', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify({ message: prompt })
          });

          // Memeriksa jika API merespons dengan status selain 200
          if (!response.ok) {
              throw new Error('Terjadi kesalahan pada server API.');
          }

          const data = await response.json();

          // Debugging - Cek respons API
          console.log('Data API:', data);

          // Memeriksa jika balasan tersedia dalam respons API
          const reply = data?.reply || "Maaf, saya tidak mengerti itu.";
          chatBody.innerHTML += `<div><b>AI:</b> ${reply}</div>`;
      } catch (error) {
          console.error("Error:", error);
          chatBody.innerHTML += `<div><b>AI:</b> Terjadi kesalahan! Coba lagi nanti.</div>`;
      }
  }
</script>

</body>
</html>
